import sys
sys.stdin = open("input.txt", "r")


def dfs(num_sum, num_index):

    if num_index == N:
        result.append(num_sum)
        return

    if oper[0] > 0:
        oper[0] -= 1
        dfs(num_sum + num_list[num_index], num_index+1)
        oper[0] += 1

    if oper[1] > 0:
        oper[1] -= 1
        dfs(num_sum - num_list[num_index], num_index+1)
        oper[1] += 1

    if oper[2] > 0:
        oper[2] -= 1
        dfs(num_sum * num_list[num_index], num_index+1)
        oper[2] += 1

    if oper[3] > 0:
        oper[3] -= 1
        dfs(int(num_sum / num_list[num_index]), num_index+1)
        oper[3] += 1

T = int(input())
for tc in range(1, T+1):
    N = int(input())

    oper = list(map(int, input().split()))
    num_list = list(map(int, input().split()))

    result = []
    dfs(num_list[0], 1)

    value = max(result) - min(result)

    print(f'#{tc} {value}')

